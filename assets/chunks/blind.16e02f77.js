import{W as l,c as m,i as u}from"./watermark.2c2ff942.js";class f extends l{constructor(o={}){o.globalAlpha=.005,o.mode="blind",super(o)}static decode(o){const e=Object.assign({url:"",fillColor:"#000",compositeOperation:"color-burn",mode:"canvas"},o);if(e.url&&e.mode==="canvas"){const a=new Image;a.src=e.url,a.onload=()=>{var s;const{width:c,height:r}=a,n=l.createCanvas(c,r),t=n.getContext("2d");if(t===null)throw new Error("get context error");t.drawImage(a,0,0,c,r),t.globalCompositeOperation=e.compositeOperation,t.fillStyle=e.fillColor,t.fillRect(0,0,c,r);const i=m(n);e.onSuccess&&u(e.onSuccess)&&((s=e.onSuccess)==null||s.call(e,i))}}}}export{f as B};
