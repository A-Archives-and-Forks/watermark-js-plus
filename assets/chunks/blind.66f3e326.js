import{W as i,a as m,c as u,i as d}from"./watermark.9d12be55.js";class v extends i{constructor(o={}){o.globalAlpha=.005,o.mode="blind",super(o)}static decode(o){const e=Object.assign({url:"",fillColor:"#000",compositeOperation:"color-burn",mode:"canvas"},o);if(e.url&&e.mode==="canvas"){const a=new Image;a.src=e.url,a.onload=()=>{var n;const{width:r,height:s}=a,c=m.createCanvas(r,s),t=c.getContext("2d");if(t===null)throw new Error("get context error");t.drawImage(a,0,0,r,s),t.globalCompositeOperation=e.compositeOperation,t.fillStyle=e.fillColor,t.fillRect(0,0,r,s);const l=u(c);e.onSuccess&&d(e.onSuccess)&&((n=e.onSuccess)==null||n.call(e,l))}}}}export{v as B};
