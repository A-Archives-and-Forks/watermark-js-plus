import { describe, expect, test } from '@jest/globals'
import { BlindWatermark } from '../../src/core/blind'
import $ from 'jquery'

const decodeImage = 'data:image/png;base64,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'

describe('core blind module', () => {
  test('blind-watermark create expected true', async () => {
    const watermark = new BlindWatermark({
      contentType: 'multi-line-text',
      content: 'hello my watermark',
      width: 200,
      height: 200,
      zIndex: 2147483646,
      translatePlacement: 'top',
      textBaseline: 'bottom'
    })
    await watermark.create()
    expect($('body > div:last').css('z-index')).toBe('2147483646')
    watermark.destroy()
    expect($('body > div:last').css('z-index')).toBe(undefined)
  })

  test('blind-watermark decode expected true', (done) => {
    BlindWatermark.decode({
      url: 'https://cdn.jsdelivr.net/gh/zhensherlock/oss@main/uPic/blind-watermark-X9D8to.png',
      onSuccess: (res: any) => {
        done()
        expect(res).toBe(decodeImage)
      }
    })
  }, 10000)
})
